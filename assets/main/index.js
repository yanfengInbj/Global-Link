window.__require=function t(e,n,i){function a(o,r){if(!n[o]){if(!e[o]){var h=o.split("/");if(h=h[h.length-1],!e[h]){var c="function"==typeof __require&&__require;if(!r&&c)return c(h,!0);if(s)return s(h,!0);throw new Error("Cannot find module '"+o+"'")}o=h}var d=n[o]={exports:{}};e[o][0].call(d.exports,function(t){return a(e[o][1][t]||t)},d,d.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<i.length;o++)a(i[o]);return a}({HelloWorld:[function(t,e){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),t("./ui/bottom"),cc.Class({extends:cc.Component,properties:{nodeGame:cc.Node,nodeStart:cc.Node},start:function(){},startgame:function(){this.nodeStart.destroy(),this.nodeGame.active=!0}}),cc._RF.pop()},{"./ui/bottom":"bottom"}],SVGConst:[function(t,e){"use strict";cc._RF.push(e,"ed6e11lmHlOdo7X9grVTEo1","SVGConst"),t("../namespace/SVGNamespace").SVG.Const={PATH:1,PATH_END:101,PATH_MOVE:102,PATH_LINE:103,PATH_CURVE_C:104,PATH_CURVE_S:105,PATH_CURVE_Q:106,PATH_CURVE_T:107,PATH_CURVE_A:108,RENDER_MOVE:1001,RENDER_END:1002,RENDER_LINE:1003,RENDER_POLYLINE:1004,RENDER_CLOSE:1005},cc._RF.pop()},{"../namespace/SVGNamespace":"SVGNamespace"}],SVGDataArea:[function(t,e){"use strict";cc._RF.push(e,"3d173K52URLDYpfRSDWZy9w","SVGDataArea"),t("../namespace/SVGNamespace").SVG.Data.Area=function(t){this.strokeArray=t,this.strokeCount=t.length,this.isFinished=!1},cc._RF.pop()},{"../namespace/SVGNamespace":"SVGNamespace"}],SVGDataCommand:[function(t,e){"use strict";cc._RF.push(e,"4a595Sn+pZHD6ZUJjzid5c8","SVGDataCommand"),t("../namespace/SVGNamespace").SVG.Data.Command=function(){this.type=0,this.fillColor=null,this.strokeColor=null,this.strokeWidth=null,this.areaArray=[],this.areaCount=0,this.strokeCount=0,this.params=null,this.isFinished=!1},cc._RF.pop()},{"../namespace/SVGNamespace":"SVGNamespace"}],SVGDataRoot:[function(t,e){"use strict";cc._RF.push(e,"d6a4eGIA/VDnYddBAvCR93y","SVGDataRoot"),t("../namespace/SVGNamespace").SVG.Data.Root=function(){this.commandArray=[]},cc._RF.pop()},{"../namespace/SVGNamespace":"SVGNamespace"}],SVGDataStroke:[function(t,e){"use strict";cc._RF.push(e,"855a3LF4VpB467VCgS2leUj","SVGDataStroke"),t("../namespace/SVGNamespace").SVG.Data.Stroke=function(t,e,n,i,a){this.commandType=t,this.renderType=e,this.dataArray=a||[],this.instrunction=n,this.params=i||{},this.isFinished=!1},cc._RF.pop()},{"../namespace/SVGNamespace":"SVGNamespace"}],SVGNamespace:[function(t,e){"use strict";cc._RF.push(e,"f8b20dwlyVKrpLGYHwrowWS","SVGNamespace");var n=n||{};n.SVG=n.SVG||{},n.SVG.Component=n.SVG.Component||{},n.SVG.Const=n.SVG.Const||{},n.SVG.Data=n.SVG.Data||{},n.SVG.Data.Root=n.SVG.Data.Root||{},n.SVG.Data.Command=n.SVG.Data.Command||{},n.SVG.Data.Stroke=n.SVG.Data.Stroke||{},n.SVG.Parser=n.SVG.Parser||{},n.SVG.Util=n.SVG.Util||{},n.SVG.Util.Path=n.SVG.Util.Path||{},n.SVG.Util.Render=n.SVG.Util.Render||{},n.SVG.Util.Polyline=n.SVG.Util.Polyline||{},n.SVG.Util.Common=n.SVG.Util.Render||{},n.SVG.Brush=n.SVG.Brush||{},n.SVG.Stamp=n.SVG.Stamp||{},e.exports=n,cc._RF.pop()},{}],SVGParser:[function(t,e){"use strict";cc._RF.push(e,"761a7pPsqZIs4SSlvLafOZf","SVGParser");var n=t("../namespace/SVGNamespace");n.SVG.Parser=function(){},n.SVG.Parser.parsePath=function(t,e){for(var i=t.params.replace(/\s*([poiuytrwqasdfghjklmnbvcxzPOIUYTREWQASDFGHJKLMNBVCXZ])\s*/g,"\n$1").replace(/,/g," ").replace(/-/g," -").replace(/ +/g," ").replace(/e /g,"e").split("\n"),a=[],s=1,o=[],r=1;r<i.length;r++){var h=i[r],c=h.substr(0,1),d=h.length>1?h.substr(1).trim().split(" "):"";if("m"==c||"M"==c){var l=a.length;n.SVG.Util.Path.M(r,s,c,d,e,a),s=a.length-(a.length-l-1),r>1&&o.push(s-1)}else"l"==c||"L"==c?n.SVG.Util.Path.L(r,c,d,e,a):"h"==c||"H"==c?n.SVG.Util.Path.H(r,c,d,e,a):"v"==c||"V"==c?n.SVG.Util.Path.V(r,c,d,e,a):"c"==c||"C"==c?n.SVG.Util.Path.C(r,c,d,e,a):"s"==c||"S"==c?n.SVG.Util.Path.S(r,c,d,e,a):"q"==c||"Q"==c?n.SVG.Util.Path.Q(r,c,d,e,a):"t"==c||"T"==c?n.SVG.Util.Path.T(r,c,d,e,a):"a"==c||"A"==c?n.SVG.Util.Path.A(r,c,d,e,a):"z"!=c&&"Z"!=c||(n.SVG.Util.Path.Z(r,s,c,d,e,a),t.fillColor||(t.fillColor=cc.color(0,0,0,255)))}n.SVG.Util.Path.Last(s,e,a),o.push(a.length),t.closePathIndexArray=o;for(var m=0,p=0,_=0;_<o.length;_++){var u=[];p=o[_];for(var f=m;f<p;f++){var S=a[f];u.push(S)}var C=new n.SVG.Data.Area(u);t.areaArray.push(C),t.areaCount+=1,t.strokeCount+=u.length,m=p}},n.SVG.Parser.parseHZWriterJSON=function(t,e){for(var i=new n.SVG.Data.Root,a=0;a<t.strokes.length;a++){var s=new n.SVG.Data.Command;s.params=t.strokes[a],s.type=n.SVG.Const.PATH,s.median=[];for(var o=0;o<t.medians[a].length-1;o+=1){var r=n.SVG.Util.Polyline.FromMedians(t.medians[a][o][0],t.medians[a][o][1],t.medians[a][o+1][0],t.medians[a][o+1][1],6);o>0&&r.shift(),s.median=s.median.concat(r)}i.commandArray.push(s)}for(a=0;a<i.commandArray.length;a++){var h=i.commandArray[a];h.type==n.SVG.Const.PATH&&n.SVG.Parser.parsePath(h,e)}return i.pathCount=i.commandArray.length,i},cc._RF.pop()},{"../namespace/SVGNamespace":"SVGNamespace"}],SVGPolylineUtil:[function(t,e){"use strict";cc._RF.push(e,"ed7b0wLvc5FMIhoZmvztCiO","SVGPolylineUtil");var n=t("../namespace/SVGNamespace");n.SVG.Util.Polyline=function(){},n.SVG.Util.Polyline.FromCubicBezier=function(t,e,n,i,a,s,o,r,h){for(var c=[],d=1/h,l=d;l<1;l+=d){var m=Math.pow(1-l,3)*t+3*Math.pow(1-l,2)*l*n+3*(1-l)*l*l*a+l*l*l*o,p=Math.pow(1-l,3)*e+3*Math.pow(1-l,2)*l*i+3*(1-l)*l*l*s+l*l*l*r;c.push({x:parseFloat(m.toFixed(3)),y:parseFloat(p.toFixed(3))})}return c},n.SVG.Util.Polyline.FromQuadBezier=function(t,e,n,i,a,s,o){for(var r=[],h=1/o,c=h;c<1;c+=h){var d=Math.pow(1-c,2)*t+2*(1-c)*c*n+c*c*a,l=Math.pow(1-c,2)*e+2*(1-c)*c*i+c*c*s;r.push({x:parseFloat(d.toFixed(3)),y:parseFloat(l.toFixed(3))})}return r},n.SVG.Util.Polyline.FromEllipticArc=function(t,e,n,i,a,s,o,r,h,c){var d,l,m,p,_,u=cc.misc.degreesToRadians(a%360),f=Math.cos(u),S=Math.sin(u),C=(t-r)/2,g=(e-h)/2,x=f*C+S*g,v=-S*C+f*g;(_=(m=x*x)/(d=(n=Math.abs(n))*n)+(p=v*v)/(l=(i=Math.abs(i))*i))>1&&(d=(n*=Math.sqrt(_))*n,l=(i*=Math.sqrt(_))*i);var y,R,G,V,E,F,k,T=s===o?-1:1,N=f*(V=(G=(R=d*l-(y=d*p+l*m))<0?0:T*Math.sqrt(R/y))*(n*v/i))-S*(E=G*(-i*x/n))+(t+r)/2,P=S*V+f*E+(e+h)/2,b=(-x-V)/n,A=(-v-E)/i;T=(k=(v-E)/i)<0?-1:1,R=F=(x-V)/n,y=Math.sqrt(F*F+k*k);var w=cc.misc.radiansToDegrees(T*Math.acos(R/y));T=F*A-k*b<0?-1:1,R=F*b+k*A,y=Math.sqrt((F*F+k*k)*(b*b+A*A));var H=cc.misc.radiansToDegrees(T*Math.acos(R/y));!o&&H>0?H-=360:o&&H<0&&(H+=360),H%=360,w%=360;for(var O=[],I=0,D=1;D<c;D++){I=D/c;var z=cc.misc.degreesToRadians(w+I*H),M=n*Math.cos(z),L=i*Math.sin(z);O.push({x:N+f*M-S*L,y:P+S*M+f*L})}return O.push({x:parseFloat(r.toFixed(3)),y:parseFloat(h.toFixed(3))}),O},n.SVG.Util.Polyline.FromLine=function(t,e,n,i,a){for(var s=[],o=1/a,r=o;r<1;r+=o){var h=cc.v2(0,0);cc.Vec2.lerp(h,cc.v2(t,e),{x:parseFloat(n.toFixed(3)),y:parseFloat(i.toFixed(3))},r),s.push(h.x,h.y)}return s},n.SVG.Util.Polyline.FromMedians=function(t,e,n,i,a){var s=[];if(1==a)return s.push([t,e]),s.push([n,i]),s;for(var o=1/a,r=0;r<=1;r+=o){var h=cc.v2(0,0);cc.Vec2.lerp(h,cc.v2(t,e),{x:parseFloat(n.toFixed(3)),y:parseFloat(i.toFixed(3))},r),s.push([parseFloat(h.x.toFixed(3)),parseFloat(h.y.toFixed(3))])}return s},cc._RF.pop()},{"../namespace/SVGNamespace":"SVGNamespace"}],SVGUtilPath:[function(t,e){"use strict";cc._RF.push(e,"e2ca6BD04tK17GTnguxIPoo","SVGUtilPath");var n=t("../namespace/SVGNamespace");n.SVG.Util.Path=function(){},n.SVG.Util.Path._checkDecimalTerms=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n].split(".");if(i.length>1){e.push(parseFloat((i[0]?i[0]:"0")+"."+i[1]));for(var a=2;a<i.length;a++)e.push(parseFloat("0."+i[a]))}else e.push(parseFloat(t[n]))}return e},n.SVG.Util.Path._fuzzyEquals=function(t,e,n){return t.x-n<=e.x&&e.x<=t.x+n&&t.y-n<=e.y&&e.y<=t.y+n},n.SVG.Util.Path.M=function(t,e,i,a,s,o){var r=o.length>0?o[o.length-1]:null,h=r?r.params.x:0,c=r?r.params.y:0;if(r)if(r.commandType!=n.SVG.Const.PATH_END){var d=o[e-1];if(r.params.x!=d.params.x||r.params.y!=d.params.y){var l=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,i+"(l)",{px:h,py:c,x:d.params.x,y:d.params.y},[{x:r.params.x,y:r.params.y}]);o.push(l);var m=new n.SVG.Data.Stroke(n.SVG.Const.PATH_END,n.SVG.Const.RENDER_CLOSE,i+"(z)",{px:h,py:c,x:d.params.x,y:d.params.y},[{x:r.params.x,y:r.params.y}]);o.push(m)}else{var p=new n.SVG.Data.Stroke(n.SVG.Const.PATH_END,n.SVG.Const.RENDER_CLOSE,i+"(z)",{px:h,py:c,x:d.params.x,y:d.params.y},[{x:r.params.x,y:r.params.y}]);o.push(p)}}else r.renderType=n.SVG.Const.RENDER_CLOSE;a=n.SVG.Util.Path._checkDecimalTerms(a);for(var _=0;_<a.length/2;_++){h=r?r.params.x:0,c=r?r.params.y:0;var u=parseFloat(a[2*_]),f=parseFloat(a[2*_+1]);if("m"==i&&(u+=h,f+=c),u=parseFloat(u.toFixed(3)),f=parseFloat(f.toFixed(3)),0==_){var S=new n.SVG.Data.Stroke(n.SVG.Const.PATH_MOVE,n.SVG.Const.RENDER_MOVE,i+" "+a[2*_]+" "+a[2*_+1],{px:0,py:0,x:u,y:f},[{x:u,y:f}]);o.push(S),r=S}else{var C=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,i+"(l) "+a[2*_]+" "+a[2*_+1],{px:h,py:c,x:u,y:f},[{x:u,y:f}]);o.push(C),r=C}}},n.SVG.Util.Path.L=function(t,e,i,a,s){var o=0,r=0,h=s.length>0?s[s.length-1]:null;i=n.SVG.Util.Path._checkDecimalTerms(i);for(var c=0;c<i.length/2;c++){o=h?h.params.x:0,r=h?h.params.y:0;var d=parseFloat(i[2*c]),l=parseFloat(i[2*c+1]);if("l"==e&&(d+=o,l+=r),d=parseFloat(d.toFixed(3)),l=parseFloat(l.toFixed(3)),a.segmentationOn)for(var m=n.SVG.Util.Polyline.FromLine(o,r,d,l,a.segments),p=1;p<m.length;p++){var _=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,e+"(*) "+m[p].x+" "+m[p].y,{px:m[p-1].x,py:m[p-1].y,x:d,y:l},[{x:m[p].x,y:m[p].y}]);s.push(_),h=_}else{var u=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,e+" "+i[2*c]+" "+i[2*c+1],{px:o,py:r,x:d,y:l},[{x:d,y:l}]);s.push(u),h=u}}},n.SVG.Util.Path.H=function(t,e,i,a,s){var o=0,r=0,h=s.length>0?s[s.length-1]:null;i=n.SVG.Util.Path._checkDecimalTerms(i);for(var c=0;c<=i.length-1;c++){o=h?h.params.x:0,r=h?h.params.y:0;var d=parseFloat(i[c]),l=r;if("h"==e&&(d+=o),d=parseFloat(d.toFixed(3)),l=parseFloat(l.toFixed(3)),a.segmentationOn)for(var m=n.SVG.Util.Polyline.FromLine(o,r,d,l,a.segments),p=1;p<m.length;p++){var _=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,e+" "+d+"("+p+")",{px:m[p-1].x,py:m[p-1].y,x:d,y:l},[{x:m[p].x,y:m[p].y}]);s.push(_),h=_}else{var u=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,e+" "+d,{px:o,py:r,x:d,y:l},[{x:d,y:l}]);s.push(u),h=u}}},n.SVG.Util.Path.V=function(t,e,i,a,s){var o=0,r=0,h=s.length>0?s[s.length-1]:null;i=n.SVG.Util.Path._checkDecimalTerms(i);for(var c=0;c<=i.length-1;c++){o=h?h.params.x:0,r=h?h.params.y:0;var d=o,l=parseFloat(i[c]);if("v"==e&&(l+=r),d=parseFloat(d.toFixed(3)),l=parseFloat(l.toFixed(3)),a.segmentationOn)for(var m=n.SVG.Util.Polyline.FromLine(o,r,d,l,a.segments),p=1;p<m.length;p++){var _=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,e+" "+l+"("+p+")",{px:m[p-1].x,py:m[p-1].y,x:d,y:l},[{x:m[p].x,y:m[p].y}]);s.push(_),h=_}else{var u=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,e+" "+l,{px:o,py:r,x:d,y:l},[{x:d,y:l}]);s.push(u),h=u}}},n.SVG.Util.Path.C=function(t,e,i,a,s){var o=0,r=0;i=n.SVG.Util.Path._checkDecimalTerms(i);for(var h=s.length>0?s[s.length-1]:null,c=0;c<i.length/6;c++){o=h?h.params.x:0,r=h?h.params.y:0;var d=parseFloat(i[6*c]),l=parseFloat(i[6*c+1]),m=parseFloat(i[6*c+2]),p=parseFloat(i[6*c+3]),_=parseFloat(i[6*c+4]),u=parseFloat(i[6*c+5]);"c"==e&&(d+=o,l+=r,m+=o,p+=r,_+=o,u+=r),_=parseFloat(_.toFixed(3)),u=parseFloat(u.toFixed(3)),d=parseFloat(d.toFixed(3)),l=parseFloat(l.toFixed(3)),m=parseFloat(m.toFixed(3)),p=parseFloat(p.toFixed(3));var f=e+" "+i[6*c]+" "+i[6*c+1]+" "+i[6*c+2]+" "+i[6*c+3]+" "+i[6*c+4]+" "+i[6*c+5],S={px:o,py:r,cx1:d,cy1:l,cx2:m,cy2:p,x:_,y:u},C=n.SVG.Util.Polyline.FromCubicBezier(o,r,d,l,m,p,_,u,a.segments);if(a.segmentationOn)for(var g=1;g<C.length;g++){var x=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,f+"("+g+")",S,[{x:C[g].x,y:C[g].y}]);s.push(x),h=x}else{var v=new n.SVG.Data.Stroke(n.SVG.Const.PATH_CURVE_C,n.SVG.Const.RENDER_POLYLINE,f,S,C);s.push(v),h=v}}},n.SVG.Util.Path.S=function(t,e,i,a,s){var o=0,r=0,h=s.length>0?s[s.length-1]:null;i=n.SVG.Util.Path._checkDecimalTerms(i);for(var c=0;c<i.length/4;c++){o=h?h.params.x:0,r=h?h.params.y:0;var d=parseFloat(i[4*c]),l=parseFloat(i[4*c+1]);"s"==e&&(d=o+d,l=r+l);var m=o,p=r;h.commandType!=n.SVG.Const.PATH_CURVE_C&&h.commandType!=n.SVG.Const.PATH_CURVE_S||(m=2*o-h.params.cx2,p=2*r-h.params.cy2);var _=parseFloat(i[4*c+2]),u=parseFloat(i[4*c+3]);"s"==e&&(_+=o,u+=r),_=parseFloat(_.toFixed(3)),u=parseFloat(u.toFixed(3)),m=parseFloat(m.toFixed(3)),p=parseFloat(p.toFixed(3)),d=parseFloat(d.toFixed(3)),l=parseFloat(l.toFixed(3));var f=e+" "+i[4*c]+" "+i[4*c+1]+" "+i[4*c+2]+" "+i[4*c+3],S={px:o,py:r,cx1:m,cy1:p,cx2:d,cy2:l,x:_,y:u},C=n.SVG.Util.Polyline.FromCubicBezier(o,r,m,p,d,l,_,u,a.segments);if(a.segmentationOn)for(var g=1;g<C.length;g++){var x=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,f+"("+g+")",S,[{x:C[g].x,y:C[g].y}]);s.push(x),h=x}else{var v=new n.SVG.Data.Stroke(n.SVG.Const.PATH_CURVE_S,n.SVG.Const.RENDER_POLYLINE,f,S,C);s.push(v),h=v}}},n.SVG.Util.Path.Q=function(t,e,i,a,s){var o=0,r=0,h=s.length>0?s[s.length-1]:null;i=n.SVG.Util.Path._checkDecimalTerms(i);for(var c=0;c<i.length/4;c++){o=h?h.params.x:0,r=h?h.params.y:0;var d=parseFloat(i[4*c]),l=parseFloat(i[4*c+1]);"q"==e&&(d+=o,l+=r);var m=parseFloat(i[4*c+2]),p=parseFloat(i[4*c+3]);"q"==e&&(m+=o,p+=r),m=parseFloat(m.toFixed(3)),p=parseFloat(p.toFixed(3)),d=parseFloat(d.toFixed(3)),l=parseFloat(l.toFixed(3));var _=e+" "+i[4*c]+" "+i[4*c+1]+" "+i[4*c+2]+" "+i[4*c+3],u={px:o,py:r,cx1:d,cy1:l,x:m,y:p},f=n.SVG.Util.Polyline.FromQuadBezier(o,r,d,l,m,p,a.segments);if(a.segmentationOn)for(var S=0;S<f.length;S++){var C=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,_+"("+S+")",u,[{x:f[S].x,y:f[S].y}]);s.push(C),h=C}else{var g=new n.SVG.Data.Stroke(n.SVG.Const.PATH_CURVE_Q,n.SVG.Const.RENDER_POLYLINE,_,u,f);s.push(g),h=g}}},n.SVG.Util.Path.T=function(t,e,i,a,s){var o=0,r=0,h=s.length>0?s[s.length-1]:null;i=n.SVG.Util.Path._checkDecimalTerms(i);for(var c=0;c<i.length/2;c++){o=h?h.params.x:0,r=h?h.params.y:0;var d=parseFloat(i[2*c]),l=parseFloat(i[2*c+1]);"t"==e&&(d+=o,l+=r);var m=o,p=r;h.commandType!=n.SVG.Const.PATH_CURVE_Q&&h.commandType!=n.SVG.Const.PATH_CURVE_T||(m=2*o-h.params.cx1,p=2*r-h.params.cy1),d=parseFloat(d.toFixed(3)),l=parseFloat(l.toFixed(3)),m=parseFloat(m.toFixed(3)),p=parseFloat(p.toFixed(3));var _=e+" "+i[2*c]+" "+i[2*c+1],u={px:o,py:r,cx1:m,cy1:p,x:d,y:l},f=n.SVG.Util.Polyline.FromQuadBezier(o,r,m,p,d,l,a.segments);if(a.segmentationOn)for(var S=1;S<f.length;S++){var C=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,_+"("+S+")",u,[{x:f[S].x,y:f[S].y}]);s.push(C),h=C}else{var g=new n.SVG.Data.Stroke(n.SVG.Const.PATH_CURVE_T,n.SVG.Const.RENDER_POLYLINE,_,u,f);s.push(g),h=g}}},n.SVG.Util.Path.A=function(t,e,i,a,s){var o=0,r=0,h=s.length>0?s[s.length-1]:null;i=n.SVG.Util.Path._checkDecimalTerms(i);for(var c=0;c<i.length/7;c++){o=h?h.params.x:0,r=h?h.params.y:0;var d=parseFloat(i[7*c]),l=parseFloat(i[7*c+1]),m=parseFloat(i[7*c+2]),p=parseFloat(i[7*c+3]),_=parseFloat(i[7*c+4]),u=parseFloat(i[7*c+5]),f=parseFloat(i[7*c+6]);"a"==e&&(u+=o,f+=r),u=parseFloat(u.toFixed(3)),f=parseFloat(f.toFixed(3));var S=e+" "+i[7*c]+" "+i[7*c+1]+" "+i[7*c+2]+" "+i[7*c+3]+" "+i[7*c+4]+" "+i[7*c+5]+" "+i[7*c+6],C={px:o,py:r,rx:d,ry:l,rotate:m,largeArcFlag:p,sweepFlag:_,x:u,y:f},g=n.SVG.Util.Polyline.FromEllipticArc(o,r,d,l,m,p,_,u,f,a.segments);if(a.segmentationOn)for(var x=1;x<g.length;x++){var v=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,S+"("+x+")",C,[{x:g[x].x,y:g[x].y}]);s.push(v),h=v}else{var y=new n.SVG.Data.Stroke(n.SVG.Const.PATH_CURVE_A,n.SVG.Const.RENDER_POLYLINE,S,C,g);s.push(y),h=y}}},n.SVG.Util.Path.Z=function(t,e,i,a,s,o){var r=o[e-1],h=o.length>0?o[o.length-1]:null,c=h?h.params.x:0,d=h?h.params.y:0;if(n.SVG.Util.Path._fuzzyEquals(h.params,r.params,cc.macro.FLT_EPSILON)){var l=new n.SVG.Data.Stroke(n.SVG.Const.PATH_END,n.SVG.Const.RENDER_CLOSE,i,{px:c,py:d,x:r.params.x,y:r.params.y},[{x:h.params.x,y:h.params.y}]);o.push(l),h=l}else if(s.segmentationOn){for(var m=n.SVG.Util.Polyline.FromLine(c,d,r.params.x,r.params.y,s.segments),p=1;p<m.length;p++){var _=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,"z("+p+")",{px:c,py:d,x:r.params.x,y:r.params.y},[{x:m[p].x,y:m[p].y}]);o.push(_)}var u=new n.SVG.Data.Stroke(n.SVG.Const.PATH_END,n.SVG.Const.RENDER_CLOSE,i,{px:c,py:d,x:r.params.x,y:r.params.y},[{x:h.params.x,y:h.params.y}]);o.push(u),h=u}else{var f=new n.SVG.Data.Stroke(n.SVG.Const.PATH_LINE,n.SVG.Const.RENDER_LINE,i+"(l)",{px:c,py:d,x:r.params.x,y:r.params.y},[{x:r.params.x,y:r.params.y}]);o.push(f);var S=new n.SVG.Data.Stroke(n.SVG.Const.PATH_END,n.SVG.Const.RENDER_CLOSE,i,{px:c,py:d,x:r.params.x,y:r.params.y},[{x:h.params.x,y:h.params.y}]);o.push(S),h=S}},n.SVG.Util.Path.Last=function(t,e,i){var a=i.length>0?i[i.length-1]:null;if(a.commandType!=n.SVG.Const.PATH_END){var s=a?a.params.x:0,o=a?a.params.y:0,r=i[t-1];if(n.SVG.Util.Path._fuzzyEquals(r.params,a.params,cc.macro.FLT_EPSILON)){var h=new n.SVG.Data.Stroke(n.SVG.Const.PATH_END,n.SVG.Const.RENDER_CLOSE,"(z)",{px:s,py:o,x:r.params.x,y:r.params.y},[{x:a.params.x,y:a.params.y}]);i.push(h)}else{var c=new n.SVG.Data.Stroke(n.SVG.Const.PATH_END,n.SVG.Const.RENDER_END,"(z)",{px:s,py:o,x:r.params.x,y:r.params.y},[{x:a.params.x,y:a.params.y}]);i.push(c)}}},cc._RF.pop()},{"../namespace/SVGNamespace":"SVGNamespace"}],SVGUtilRender:[function(t,e){"use strict";cc._RF.push(e,"40c2anypiZNn4klvtXZJIxn","SVGUtilRender");var n=t("../namespace/SVGNamespace");n.SVG.Util.Render=function(){},n.SVG.Util.Render.draw=function(t,e,i,a,s){if(e.renderType==n.SVG.Const.RENDER_MOVE)t.moveTo(i.flipX?-e.dataArray[0].x*i.dataScale+i.offset.x:e.dataArray[0].x*i.dataScale-i.offset.x,i.flipY?-e.dataArray[0].y*i.dataScale+i.offset.y:e.dataArray[0].y*i.dataScale-i.offset.y);else if(e.renderType==n.SVG.Const.RENDER_CLOSE)t.close(),(t.lineWidth>0||i.enableMergeStroke&&!s)&&t.stroke(),i.enablePaintMode||a||(t.fillColor||(t.fillColor=cc.color(0,0,0,255)),t.fillColor.a>0&&t.fill());else if(e.renderType==n.SVG.Const.RENDER_LINE)t.lineTo(i.flipX?-e.dataArray[0].x*i.dataScale+i.offset.x:e.dataArray[0].x*i.dataScale-i.offset.x,i.flipY?-e.dataArray[0].y*i.dataScale+i.offset.y:e.dataArray[0].y*i.dataScale-i.offset.y),i.enableMergeStroke||s||t.stroke();else if(e.renderType==n.SVG.Const.RENDER_POLYLINE){for(var o=0;o<e.dataArray.length;o++)t.lineTo(i.flipX?-e.dataArray[o].x*i.dataScale+i.offset.x:e.dataArray[o].x*i.dataScale-i.offset.x,i.flipY?-e.dataArray[o].y*i.dataScale+i.offset.y:e.dataArray[o].y*i.dataScale-i.offset.y);i.enableMergeStroke||s||t.stroke()}else e.renderType==n.SVG.Const.RENDER_END?(t.lineWidth>0||i.enableMergeStroke)&&!s&&t.stroke():cc.log("ssr.SVG.Util.Render.draw Unknown TYPE: "+e.renderType)},cc._RF.pop()},{"../namespace/SVGNamespace":"SVGNamespace"}],SVGWriterComponent:[function(t,e){"use strict";cc._RF.push(e,"38801lsCPtCKoMYjK5tKQ6q","SVGWriterComponent");var n=t("../namespace/SVGNamespace");n.SVG.WriterComponent=cc.Class({extends:cc.Component,editor:!1,properties:{_hanziRender:cc.Graphics,_maskRender:cc.Graphics,_fillRender:cc.Graphics,_testRender:cc.Graphics,_hintRender:cc.Graphics,_frameRender:cc.Graphics,_gridRender:cc.Graphics,_mediansRender:cc.Graphics,_hzWriterJson:{default:null,type:cc.JsonAsset},hzWriterJson:{get:function(){return this._hzWriterJson},set:function(t){this._hzWriterJson=t,this.updateSVGObject()},type:cc.JsonAsset,tooltip:"\u6c49\u5b57 JSON \u6570\u636e\u6587\u4ef6"},_segments:6,segments:{get:function(){return this._segments},set:function(t){this._segments=t,this.updateSVGObject()},type:cc.Integer,tooltip:"\u6e32\u67d3\u6c49\u5b57\u7684\u5e73\u6ed1\u7a0b\u5ea6\uff0c\u503c\u8d8a\u5927\u7ea6\u5e73\u6ed1\uff0c\u4f46\u662f\u6548\u7387\u4f1a\u964d\u4f4e"},_flipX:!1,flipX:{get:function(){return this._flipX},set:function(t){this._flipX=t,this.updateConfiguration(),this.drawHanzi()},tooltip:"\u7eb9\u7406\u662f\u5426\u6c34\u5e73\u7ffb\u8f6c"},_flipY:!0,flipY:{get:function(){return this._flipY},set:function(t){this._flipY=t,this.updateConfiguration(),this.drawHanzi()},tooltip:"\u7eb9\u7406\u662f\u5426\u5782\u76f4\u7ffb\u8f6c"},_showGrid:!0,showGrid:{get:function(){return this._showGrid},set:function(t){this._showGrid=t,this.drawGrid()},type:cc.Boolean,tooltip:"\u662f\u5426\u663e\u793a\u7f51\u683c\u7ebf"},_gridColor:cc.Color.BLACK,gridColor:{get:function(){return this._gridColor.clone()},set:function(t){this._gridColor.equals(t)||(this._gridColor.set(t),this._gridRender&&(this._gridRender.strokeColor=t),this.drawGrid())},tooltip:"\u7f51\u683c\u7ebf\u989c\u8272"},_gridWidth:4,gridWidth:{get:function(){return this._gridWidth},set:function(t){this._gridWidth!=t&&(this._gridWidth=t,this._gridRender&&(this._gridRender.lineWidth=t),this.drawGrid())},tooltip:"\u7f51\u683c\u7ebf\u5bbd\u5ea6"},_gridLength:4,gridLength:{get:function(){return this._gridLength},set:function(t){this._gridLength!=t&&t>0&&(this._gridLength=t,this._gridRender&&(this._gridRender.__gridLength=t),this.drawGrid())},tooltip:"\u7f51\u683c\u7ebf\u865a\u7ebf\u5355\u4f4d\u957f\u5ea6"},_showFrame:!0,showFrame:{get:function(){return this._showFrame},set:function(t){this._showFrame=t,this.drawFrame()},type:cc.Boolean,tooltip:"\u662f\u5426\u663e\u793a\u8fb9\u6846"},_frameColor:cc.Color.BLACK,frameColor:{get:function(){return this._frameColor.clone()},set:function(t){this._frameColor.equals(t)||(this._frameColor.set(t),this._frameRender&&(this._frameRender.strokeColor=t),this.drawFrame())},tooltip:"\u8fb9\u6846\u989c\u8272"},_frameFillColor:cc.color(0,0,0,0),frameFillColor:{get:function(){return this._frameFillColor.clone()},set:function(t){this._frameFillColor.equals(t)||(this._frameFillColor.set(t),this._frameRender&&(this._frameRender.fillColor=t),this.drawFrame())},tooltip:"\u8fb9\u6846\u5185\u90e8\u586b\u5145\u989c\u8272"},_frameWidth:4,frameWidth:{get:function(){return this._frameWidth},set:function(t){this._frameWidth!=t&&(this._frameWidth=t,this._frameRender&&(this._frameRender.lineWidth=t),this.drawFrame())},tooltip:"\u8fb9\u6846\u5bbd\u5ea6"},_framePadding:20,framePadding:{get:function(){return this._framePadding},set:function(t){this._framePadding!=t&&(this._framePadding=t,this.drawFrame(),this.drawGrid())},tooltip:"\u8fb9\u6846\u8fb9\u8ddd"},_showMedians:!0,showMedians:{get:function(){return this._showMedians},set:function(t){this._showMedians=t,this.drawMedians()},type:cc.Boolean,tooltip:"\u662f\u5426\u663e\u793a\u7b14\u753b\u5f15\u5bfc\u4e2d\u7ebf"},_mediansColor:cc.Color.BLACK,mediansColor:{get:function(){return this._mediansColor.clone()},set:function(t){this._mediansColor.equals(t)||(this._mediansColor.set(t),this._mediansRender&&(this._mediansRender.strokeColor=t),this.drawMedians())},tooltip:"\u7b14\u753b\u5f15\u5bfc\u4e2d\u7ebf\u989c\u8272"},_mediansWidth:4,mediansWidth:{get:function(){return this._mediansWidth},set:function(t){this._mediansWidth!=t&&(this._mediansWidth=t,this._mediansRender&&(this._mediansRender.lineWidth=t),this.drawMedians())},tooltip:"\u7b14\u753b\u5f15\u5bfc\u4e2d\u7ebf\u5bbd\u5ea6"},_showMediansControlPoint:!0,showMediansControlPoint:{get:function(){return this._showMediansControlPoint},set:function(t){this._showMediansControlPoint=t,this.drawMedians()},type:cc.Boolean,tooltip:"\u662f\u5426\u663e\u793a\u7b14\u753b\u5f15\u5bfc\u4e2d\u7ebf"},_mediansControlPointColor:cc.Color.BLACK,mediansControlPointColor:{get:function(){return this._mediansControlPointColor.clone()},set:function(t){this._mediansControlPointColor.equals(t)||(this._mediansControlPointColor.set(t),this._mediansRender&&(this._mediansRender.fillColor=t),this.drawMedians())},tooltip:"\u7b14\u753b\u5f15\u5bfc\u4e2d\u7ebf\u989c\u8272"},_mediansControlPointSize:4,mediansControlPointSize:{get:function(){return this._mediansControlPointSize},set:function(t){this._mediansControlPointSize!=t&&(this._mediansControlPointSize=t,this.drawMedians())},tooltip:"\u7b14\u753b\u5f15\u5bfc\u4e2d\u7ebf\u5bbd\u5ea6"},_hanziOutlineColor:cc.Color.BLACK,hanziOutlineColor:{get:function(){return this._hanziOutlineColor.clone()},set:function(t){this._hanziOutlineColor.equals(t)||(this._hanziOutlineColor.set(t),this._hanziRender&&(this._hanziRender.strokeColor=t),this.drawHanzi())},tooltip:"\u6c49\u5b57\u63cf\u8fb9\u989c\u8272"},_hanziOutlineWidth:4,hanziOutlineWidth:{get:function(){return this._hanziOutlineWidth},set:function(t){this._hanziOutlineWidth!=t&&(this._hanziOutlineWidth=t,this._hanziRender&&(this._hanziRender.lineWidth=t),this.drawHanzi())},tooltip:"\u6c49\u5b57\u63cf\u8fb9\u5bbd\u5ea6"},_hanziFillColor:cc.color(0,0,0,0),hanziFillColor:{get:function(){return this._hanziFillColor.clone()},set:function(t){this._hanziFillColor.equals(t)||(this._hanziFillColor.set(t),this._hanziRender&&(this._hanziRender.fillColor=t),this.drawHanzi())},tooltip:"\u6c49\u5b57\u586b\u5145\u989c\u8272"},_testAccuracy:20,testAccuracy:{get:function(){return this._testAccuracy},set:function(t){this._testAccuracy!=t&&(this._testAccuracy=t)},tooltip:"\u6c49\u5b57\u6d4b\u8bd5\u5224\u5b9a\u7cbe\u51c6\u5ea6"},_hintColor:cc.color(0,0,0,0),hintColor:{get:function(){return this._hintColor.clone()},set:function(t){this._hintColor.equals(t)||(this._hintColor.set(t),this._hintRender&&(this._hintRender.fillColor=t))},tooltip:"\u6c49\u5b57\u7b14\u753b\u63d0\u793a\u7528\u989c\u8272"},_hintSpeed:.2,hintSpeed:{get:function(){return this._hintSpeed},set:function(t){this._hintSpeed!=t&&(this._hintSpeed=t)},tooltip:"\u6c49\u5b57\u6d4b\u8bd5\u7b14\u753b\u63d0\u793a\u901f\u5ea6"},_strokeColor:cc.color(0,0,0,0),strokeColor:{get:function(){return this._strokeColor.clone()},set:function(t){this._strokeColor.equals(t)||(this._strokeColor.set(t),this._fillRender&&(this._fillRender.strokeColor=t))},tooltip:"\u7b14\u753b\u52a8\u753b\u989c\u8272"},_strokeWidth:40,strokeWidth:{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth!=t&&t>0&&(this._strokeWidth=t,this._fillRender&&(this._fillRender.lineWidth=t))},tooltip:"\u7b14\u753b\u52a8\u753b\u5bbd\u5ea6\uff0c\u6ce8\u610f\u5bbd\u5ea6\u8981\u8db3\u591f"},cbOneStrokeStart:{default:[],type:cc.Component.EventHandler,tooltip:"\u65b0\u7684\u4e00\u7b14\uff0c\u52a8\u753b\u5f00\u59cb\u6e32\u67d3\uff0c\u56de\u8c03\u51fd\u6570"},cbOneStrokeMove:{default:[],type:cc.Component.EventHandler,tooltip:"\u4e00\u7b14\u52a8\u753b\u6b63\u5728\u6e32\u67d3\u4e2d\uff0c\u56de\u8c03\u51fd\u6570"},cbOneStrokeEnd:{default:[],type:cc.Component.EventHandler,tooltip:"\u4e00\u7b14\u52a8\u753b\u6e32\u67d3\u7ed3\u675f\uff0c\u56de\u8c03\u51fd\u6570"},cbOneMedianStart:{default:[],type:cc.Component.EventHandler,tooltip:"\u65b0\u7684\u4e00\u7b14\uff0c\u52a8\u753b\u5f00\u59cb\u6e32\u67d3\uff0c\u56de\u8c03\u51fd\u6570"},cbOneMedianMove:{default:[],type:cc.Component.EventHandler,tooltip:"\u65b0\u7684\u4e00\u7b14\uff0c\u52a8\u753b\u5f00\u59cb\u6e32\u67d3\uff0c\u56de\u8c03\u51fd\u6570"},cbOneMedianEnd:{default:[],type:cc.Component.EventHandler,tooltip:"\u65b0\u7684\u4e00\u7b14\uff0c\u52a8\u753b\u5f00\u59cb\u6e32\u67d3\uff0c\u56de\u8c03\u51fd\u6570"},cbStrokeStart:{default:[],type:cc.Component.EventHandler,tooltip:"\u7b14\u753b\u52a8\u753b\u6e32\u67d3\u5f00\u59cb\uff0c\u56de\u8c03\u51fd\u6570"},cbStrokeEnd:{default:[],type:cc.Component.EventHandler,tooltip:"\u7b14\u753b\u52a8\u753b\u6e32\u67d3\u5168\u90e8\u7ed3\u675f\uff0c\u56de\u8c03\u51fd\u6570"},cbTestStart:{default:[],type:cc.Component.EventHandler,tooltip:"\u6c49\u5b57\u6d4b\u8bd5\u5f00\u59cb\uff0c\u56de\u8c03\u51fd\u6570"},cbTestMove:{default:[],type:cc.Component.EventHandler,tooltip:"\u6c49\u5b57\u6d4b\u8bd5\u79fb\u52a8\u4e2d\uff0c\u56de\u8c03\u51fd\u6570"},cbTestEnd:{default:[],type:cc.Component.EventHandler,tooltip:"\u6c49\u5b57\u6d4b\u8bd5\u79fb\u52a8\u7ed3\u675f\uff0c\u56de\u8c03\u51fd\u6570"},cbTestOneStrokeStart:{default:[],type:cc.Component.EventHandler,tooltip:"\u6c49\u5b57\u6d4b\u8bd5\u4e2d\uff0c\u5f00\u59cb\u4e00\u4e2a\u65b0\u7684\u7b14\u753b\uff0c\u56de\u8c03\u51fd\u6570"},cbTestOneStrokeEnd:{default:[],type:cc.Component.EventHandler,tooltip:"\u6c49\u5b57\u6d4b\u8bd5\u4e2d\uff0c\u7ed3\u675f\u4e00\u4e2a\u7b14\u753b\uff0c\u56de\u8c03\u51fd\u6570"},cbTestOneMedianStart:{default:[],type:cc.Component.EventHandler,tooltip:"\u6c49\u5b57\u6d4b\u8bd5\u4e2d\uff0c\u5f00\u59cb\u4e00\u4e2a\u65b0\u7684\u7b14\u753b\uff0c\u56de\u8c03\u51fd\u6570"},cbTestOneMedianFinish:{default:[],type:cc.Component.EventHandler,tooltip:"\u6c49\u5b57\u6d4b\u8bd5\u4e2d\uff0c\u5f00\u59cb\u4e00\u4e2a\u65b0\u7684\u7b14\u753b\uff0c\u56de\u8c03\u51fd\u6570"},cbTestOneMedianEnd:{default:[],type:cc.Component.EventHandler,tooltip:"\u6c49\u5b57\u6d4b\u8bd5\u4e2d\uff0c\u5f00\u59cb\u4e00\u4e2a\u65b0\u7684\u7b14\u753b\uff0c\u56de\u8c03\u51fd\u6570"},cbTestHintStart:{default:[],type:cc.Component.EventHandler,tooltip:"\u6c49\u5b57\u6d4b\u8bd5\u63d0\u793a\u5f00\u59cb\uff0c\u56de\u8c03\u51fd\u6570"},cbTestHintEnd:{default:[],type:cc.Component.EventHandler,tooltip:"\u6c49\u5b57\u6d4b\u8bd5\u63d0\u793a\u7ed3\u675f\uff0c\u56de\u8c03\u51fd\u6570"}},onLoad:function(){},_syncSize:function(){this.node.getContentSize(),this._updateContentSize(),this.redrawAll()},start:function(){this.node.on(cc.Node.EventType.SIZE_CHANGED,this._syncSize,this),this.__dataWidth=1024,this.__dataHeight=1024,this.__dataScale=1,this.node.getChildByName("HanziRender")&&(this._hanziRender=this.node.getChildByName("HanziRender").getComponent(cc.Graphics)),this.node.getChildByName("GridRender")&&(this._gridRender=this.node.getChildByName("GridRender").getComponent(cc.Graphics)),this.node.getChildByName("FrameRender")&&(this._frameRender=this.node.getChildByName("FrameRender").getComponent(cc.Graphics)),this.node.getChildByName("TestRender")&&(this._testRender=this.node.getChildByName("TestRender").getComponent(cc.Graphics)),this.node.getChildByName("HintRender")&&(this._hintRender=this.node.getChildByName("HintRender").getComponent(cc.Graphics)),this.node.getChildByName("MediansRender")&&(this._mediansRender=this.node.getChildByName("MediansRender").getComponent(cc.Graphics)),this.node.getChildByName("MaskRender")&&(this._maskRender=this.node.getChildByName("MaskRender").getComponent(cc.Mask)._graphics,this._fillRender=this.node.getChildByName("MaskRender").getChildByName("FillRender").getComponent(cc.Graphics),this._fillRender.strokeColor=this.strokeColor),this.resetRender(),this._commandCount=0,this._areaCount=0,this.updateSVGObject()},load:function(t,e){var n=this;cc.resources.load("hanzi-writer-data/"+t,function(t,i){t||(n.hzWriterJson=i),e&&e(t)})},drawHanzi:function(){this._hanziRender.clear();for(var t=0;t<this._svgObject.commandArray.length;t++)for(var e=this._svgObject.commandArray[t],i=0;i<e.areaArray.length;i++)for(var a=e.areaArray[i],s=0;s<a.strokeArray.length;s++)n.SVG.Util.Render.draw(this._hanziRender,a.strokeArray[s],this.configuration,!1)},drawMedians:function(){if(this._mediansRender&&(this._mediansRender.clear(),this.showMedians)){var t=this._commandIndex,e=this._medianIndex;for(this._commandIndex=0;this._drawMedian(););this._commandIndex=t,this._medianIndex=e,this._svgCommandObject=this._svgObject.commandArray[this._commandIndex-1]}},drawFrame:function(){if(this._frameRender){this._frameRender.clear();var t=Math.max(this.node.width,this.node.height)+this.framePadding;this.showFrame&&(this._frameRender.rect(-t/2,-t/2,t,t),this._frameRender.stroke(),this._frameRender.fill())}},drawGrid:function(){if(this._gridRender){this._gridRender.clear();var t=Math.max(this.node.width,this.node.height)+this.framePadding;if(this.showGrid){for(var e=t/this.gridLength,n=0;n<e;n+=2)this._gridRender.moveTo(-t/2+this.gridLength*n,0),n+1>e?this._gridRender.lineTo(t/2,0):this._gridRender.lineTo(-t/2+this.gridLength*(n+1),0);for(n=0;n<e;n+=2)this._gridRender.moveTo(0,-t/2+this.gridLength*n),n+1>e?this._gridRender.lineTo(0,t/2):this._gridRender.lineTo(0,-t/2+this.gridLength*(n+1));for(n=0;n<e;n+=2)this._gridRender.moveTo(-t/2+this.gridLength*n,-t/2+this.gridLength*n),n+1>e?this._gridRender.lineTo(t/2,t/2):this._gridRender.lineTo(-t/2+this.gridLength*(n+1),-t/2+this.gridLength*(n+1));for(n=0;n<e;n+=2)this._gridRender.moveTo(-t/2+this.gridLength*n,t/2-this.gridLength*n),n+1>e?this._gridRender.lineTo(t/2,-t/2):this._gridRender.lineTo(-t/2+this.gridLength*(n+1),t/2-this.gridLength*(n+1));this._gridRender.stroke()}}},_drawMedian:function(){if(this._commandIndex>this._commandCount)return!1;0==this._commandIndex&&(this._commandIndex+=1,this._svgCommandObject=this._svgObject.commandArray[this._commandIndex-1],this._medianCount=this._svgCommandObject.median.length,this._medianIndex=0),this._medianIndex+=1,this._median=this._svgCommandObject.median[this._medianIndex-1];var t=this.configuration.flipX?-this._median[0]*this.configuration.dataScale+this.configuration.offset.x:this._median[0]*this.configuration.dataScale-this.configuration.offset.x,e=this.configuration.flipY?-this._median[1]*this.configuration.dataScale+this.configuration.offset.y:this._median[1]*this.configuration.dataScale-this.configuration.offset.y;if(1==this._medianIndex?(this.showMediansControlPoint&&(this._mediansRender.circle(t,e,this.mediansControlPointSize),this._mediansRender.fill()),this._mediansRender.moveTo(t,e)):(this._mediansRender.lineTo(t,e),this._mediansRender.stroke(),this.showMediansControlPoint&&(this._mediansRender.circle(t,e,this.mediansControlPointSize),this._mediansRender.fill()),this._mediansRender.moveTo(t,e)),this._medianIndex>=this._medianCount){if(this._commandIndex+=1,this._svgCommandObject=this._svgObject.commandArray[this._commandIndex-1],!this._svgCommandObject)return!1;this._medianCount=this._svgCommandObject.median.length,this._medianIndex=0}return!0},_drawMask:function(){if(this._maskRender)for(var t=0;t<this._svgCommandObject.areaArray.length;t++)for(var e=this._svgCommandObject.areaArray[t],i=0;i<e.strokeArray.length;i++)n.SVG.Util.Render.draw(this._maskRender,e.strokeArray[i],this.configuration,!1)},_drawHanziCommand:function(){if(this._hanziRender)for(var t=0;t<this._svgCommandObject.areaArray.length;t++)for(var e=this._svgCommandObject.areaArray[t],i=0;i<e.strokeArray.length;i++)n.SVG.Util.Render.draw(this._hanziRender,e.strokeArray[i],this.configuration,!1)},drawAll:function(){this.drawFrame(),this.drawGrid(),this.drawHanzi(),this.drawMedians()},redrawAll:function(){this.resetRender(),this.updateConfiguration(),this.drawAll()},_fillTestStroke:function(t){this._svgCommandObject=this._svgObject.commandArray[t-1],this._hanziRender.lineWidth=0,this._hanziRender.strokeColor=cc.color(0,0,0,0),this._hanziRender.fillColor=this._fillRender.strokeColor,this._drawHanziCommand()},resetStroke:function(){this._maskRender.clear(),this._fillRender.clear(),this._hanziRender.fillColor=this.hanziFillColor,this.drawHanzi(),this._commandIndex=0;for(var t=0;t<this._svgObject.commandArray.length;t++)this._svgObject.commandArray[t].isFinished=!1},stroke:function(t){t?this._commandIndex=t:t=this._commandIndex,t>this._commandCount||(0==t&&(this._commandIndex=t=1),this._svgCommandObject=this._svgObject.commandArray[t-1],this._hanziRender.lineWidth=0,this._hanziRender.strokeColor=cc.color(0,0,0,0),this._hanziRender.fillColor=this._fillRender.strokeColor,this._drawHanziCommand(),this._svgCommandObject.isFinished=!0,this._commandIndex+=1)},isStroked:function(t){return!!t&&this._svgObject.commandArray[t-1].isFinished},isAllStrokeFinished:function(){for(var t=0;t<this._svgObject.commandArray.length;t++)if(!this._svgObject.commandArray[t].isFinished)return!1;return!0},randomStroke:function(){if(!this.isAllStrokeFinished()){for(var t=Math.floor(Math.random()*this._commandCount)+1;this.isStroked(t);)t=Math.floor(Math.random()*this._commandCount)+1;this.stroke(t)}},randomAnimateStroke:function(t){if(!this.isAllStrokeFinished()){for(var e=Math.floor(Math.random()*this._commandCount)+1;this.isStroked(e);)e=Math.floor(Math.random()*this._commandCount)+1;this.animateStroke(e,t)}},randomAnimateReset:function(){this.resetStroke()},_animateStrokeTimer:function(){this._medianIndex+=1,this._median=this._svgCommandObject.median[this._medianIndex-1];var t=this.flipX?-this._median[0]*this.configuration.dataScale+offset.x:this._median[0]*this.configuration.dataScale-this.offset.x,e=this.flipY?-this._median[1]*this.configuration.dataScale+offset.y:this._median[1]*this.configuration.dataScale-this.offset.y;1==this._medianIndex?(this._fillRender.moveTo(t,e),cc.Component.EventHandler.emitEvents(this.cbOneStrokeMove,this,{index:this._medianIndex,pos:{x:t.toFixed(2),y:e.toFixed(2)}}),cc.Component.EventHandler.emitEvents(this.cbOneMedianStart,this,{index:this._medianIndex,pos:{x:t.toFixed(2),y:e.toFixed(2)}})):(this._fillRender.lineTo(t,e),this._fillRender.stroke(),cc.Component.EventHandler.emitEvents(this.cbOneStrokeMove,this,{index:this._medianIndex,pos:{x:t.toFixed(2),y:e.toFixed(2)}}),cc.Component.EventHandler.emitEvents(this.cbOneMedianMove,this,{index:this._medianIndex,pos:{x:t.toFixed(2),y:e.toFixed(2)}})),this._medianIndex>=this._medianCount&&(this.unschedule(this._animateStrokeTimer),this._hanziRender.lineWidth=0,this._hanziRender.strokeColor=cc.color(0,0,0,0),this._hanziRender.fillColor=this._fillRender.strokeColor,this._drawHanziCommand(),this._svgCommandObject.isFinished=!0,cc.Component.EventHandler.emitEvents(this.cbOneMedianEnd,this,{index:this._medianIndex}),cc.Component.EventHandler.emitEvents(this.cbOneStrokeEnd,this,{index:this._commandIndex}),this._commandIndex+=1)},animateStroke:function(t,e){if(t?this._commandIndex=t:t=this._commandIndex,t>this._commandCount)return this._maskRender.clear(),this._fillRender.clear(),cc.Component.EventHandler.emitEvents(this.cbStrokeEnd,this),!1;0==t?(this._commandIndex=t=1,this._svgCommandObject=this._svgObject.commandArray[t-1],this._drawMask(),this._medianCount=this._svgCommandObject.median.length,this._medianIndex=0):this._svgCommandObject=this._svgObject.commandArray[t-1],cc.Component.EventHandler.emitEvents(this.cbStrokeStart,this),cc.Component.EventHandler.emitEvents(this.cbOneStrokeStart,this,{index:t}),this._medianCount=this._svgCommandObject.median.length,this._medianIndex=0,this._maskRender.clear(),this._fillRender.clear(),this._drawMask(),e=e||0,this.schedule(this._animateStrokeTimer,e)},getSVGObject:function(){return this._svgObject},getCommandIndex:function(){return this._commandIndex},getCommandCount:function(){return this._commandCount},getCommandObject:function(){return this._svgCommandObject},resetRender:function(){this._hanziRender&&this._hanziRender.clear(),this._gridRender&&this._gridRender.clear(),this._frameRender&&this._frameRender.clear(),this._mediansRender&&this._mediansRender.clear(),this._maskRender&&this._maskRender.clear(),this._fillRender&&this._fillRender.clear(),this._testCommandIndex=0,this._testMedicanIndex=0,this._testMedicansHitArray=[],this._isInTest=!1,this._isWaitingForTest=!1,this._commandIndex=0,this._areaIndex=0,this._strokeIndex=0,this._medianIndex=0},resetHanziRender:function(){this._hanziRender&&this._hanziRender.clear(),this._mediansRender&&this._mediansRender.clear(),this._maskRender&&this._maskRender.clear(),this._fillRender&&this._fillRender.clear(),this._testCommandIndex=0,this._testMedicanIndex=0,this._testMedicansHitArray=[],this._isInTest=!1,this._isWaitingForTest=!1,this._commandIndex=0,this._areaIndex=0,this._strokeIndex=0,this._medianIndex=0,this._hanziRender.fillColor=this.hanziFillColor},reset:function(){this.resetRender(),this._commandCount=0,this._areaCount=0,this._medianIndex=0,this.offset=null,this._svgCommandObject=null,this._svgStrokeObject=null,this._svgObject=null},updateConfiguration:function(){this.configuration={segments:this.segments,flipX:null!==this.flipX&&this.flipX,flipY:null!==this.flipY&&this.flipY,offset:this.offset?this.offset:cc.v2(0,0),dataScale:null===this.__dataScale?1:this.__dataScale}},updateSVGObject:function(){this.resetHanziRender(),this.updateConfiguration(),this.hzWriterJson&&(this._svgObject=n.SVG.Parser.parseHZWriterJSON(this.hzWriterJson.json,this.configuration),this._updateContentSize(),this._commandCount=this._svgObject.pathCount)},_updateContentSize:function(){this.configuration.dataScale=this.__dataScale=this.node.width/this.__dataWidth,this.offset=this.configuration.offset=cc.v2(this.node.width/2,-124*this.__dataScale+this.node.height/2)},_getMedicanPos:function(t,e){var n=this._svgObject.commandArray[t-1].median[e-1];return{x:this.configuration.flipX?-n[0]*this.configuration.dataScale+this.configuration.offset.x:n[0]*this.configuration.dataScale-this.configuration.offset.x,y:this.configuration.flipY?-n[1]*this.configuration.dataScale+this.configuration.offset.y:n[1]*this.configuration.dataScale-this.configuration.offset.y}},_getDisBetweenTouchAndTargetMedian:function(t,e,n){var i=this._getMedicanPos(e,n);return cc.v2(t.x-i.x,t.y-i.y).mag()},testStart:function(){this._isInTest||(this._hanziRender.lineWidth=this.hanziOutlineWidth,this._hanziRender.strokeColor=this.hanziOutlineColor,this._hanziRender.fillColor=cc.color(0,0,0,0),this.drawHanzi(),this._isInTest=!0,this._testCommandIndex=1,this._testMedicanIndex=1,this.node.on(cc.Node.EventType.TOUCH_START,this._touchStartCallback,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveCallback,this),this.node.on(cc.Node.EventType.TOUCH_END,this._touchEndCallback,this),cc.Component.EventHandler.emitEvents(this.cbTestStart,this),cc.Component.EventHandler.emitEvents(this.cbTestOneStrokeStart,this,{index:this._testCommandIndex}),cc.Component.EventHandler.emitEvents(this.cbTestOneMedianStart,this,{index:this._testMedicanIndex,total:this._svgObject.commandArray[this._testCommandIndex-1].median.length}))},testEnd:function(){this._isInTest&&(this._isInTest=!1,this.node.off(cc.Node.EventType.TOUCH_START,this._touchStartCallback,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._touchMoveCallback,this),this.node.off(cc.Node.EventType.TOUCH_END,this._touchEndCallback,this),cc.Component.EventHandler.emitEvents(this.cbTestEnd,this,{result:this._testCommandIndex>this._svgObject.pathCount?1:0}))},_touchStartCallback:function(t){this._isWaitingForTest=!1;var e=t.getTouches()[0].getLocation();e=this.node.convertToNodeSpaceAR(e),this._testRender.clear(),this._testRender.moveTo(e.x,e.y)},_touchMoveCallback:function(t){if(this._isInTest&&!this._isWaitingForTest){var e=t.getTouches()[0].getLocation();if(e=this.node.convertToNodeSpaceAR(e),this._testRender.lineTo(e.x,e.y),this._testRender.stroke(),this._testRender.moveTo(e.x,e.y),this._getDisBetweenTouchAndTargetMedian(e,this._testCommandIndex,this._testMedicanIndex)<=this._testAccuracy){this._testMedicanIndex+=1;var n=this._svgObject.commandArray[this._testCommandIndex-1].median.length;cc.Component.EventHandler.emitEvents(this.cbTestOneMedianFinish,this,{index:this._testMedicanIndex-1,total:n}),this._testMedicanIndex>n?(cc.Component.EventHandler.emitEvents(this.cbTestOneStrokeEnd,this,{index:this._testCommandIndex,result:1}),this._testRender.clear(),this._isWaitingForTest=!0,this._fillTestStroke(this._testCommandIndex),this._testCommandIndex+=1,this._testMedicanIndex=1,this._testCommandIndex>this._svgObject.pathCount&&this.testEnd()):cc.Component.EventHandler.emitEvents(this.cbTestOneMedianStart,this,{index:this._testMedicanIndex,total:n})}}},_touchEndCallback:function(t){if(this._isInTest&&!this._isWaitingForTest){var e=t.getTouches()[0].getLocation();e=this.node.convertToNodeSpaceAR(e),this._testRender.clear(),cc.Component.EventHandler.emitEvents(this.cbTestOneStrokeEnd,this,{index:this._testCommandIndex,result:0}),this._isWaitingForTest=!0,this._testMedicanIndex=1}},_drawHintCommand:function(t){this._hintRender.clear();for(var e=this._svgObject.commandArray[t-1],i=0;i<e.areaArray.length;i++)for(var a=e.areaArray[i],s=0;s<a.strokeArray.length;s++)n.SVG.Util.Render.draw(this._hintRender,a.strokeArray[s],this.configuration,!1)},hintStroke:function(t){var e=this;this._isInTest&&(t||(t=this._testCommandIndex),t>this._commandCount||(0==t&&(t=1),cc.Component.EventHandler.emitEvents(this.cbTestHintStart,this),cc.tween(this.node).call(function(){e._drawHintCommand(t)}).delay(this.hintSpeed).call(function(){e._clearHint(t)}).delay(this.hintSpeed).call(function(){e._drawHintCommand(t)}).delay(this.hintSpeed).call(function(){e._clearHint(t)}).delay(this.hintSpeed).call(function(){e._drawHintCommand(t)}).delay(this.hintSpeed).call(function(){e._clearHint(t),cc.Component.EventHandler.emitEvents(e.cbTestHintEnd,e)}).start()))},_clearHint:function(){this._hintRender.clear()}}),cc._RF.pop()},{"../namespace/SVGNamespace":"SVGNamespace"}],bottom:[function(t,e){"use strict";cc._RF.push(e,"e75708PoUlJ+6XB2ScHR0kx","bottom"),cc.Class({extends:cc.Component,properties:{dislst:cc.Node,list:cc.Node,labcur:cc.Label,labsum:cc.Label,process:cc.Node,switch:cc.Prefab},onLoad:function(){},reset:function(t,e){this.cur=0,this.sum=t,this.labcur.string="0",this.labsum.string=t,this.total=e,this.pro=0,this.list.removeAllChildren(),this.dislst.removeAllChildren(),this.process.removeAllChildren();var n=62*e+2;this.process.width=n;for(var i=32+-n/2,a=0;a<e;++a){var s=cc.instantiate(this.switch);s.y=0,s.x=i,s.parent=this.process,i+=62}},onAdded:function(t){this.cur<this.sum?t():(this.cur===this.sum?this.addPro():this.clearlist(),this.cur=0,this.labcur.string=this.cur,setTimeout(function(){t()},300))},addPro:function(){var t=this.process.children[this.pro].children[0];this.pro++;var e=this.list.children,n=2;1===e.length&&(n=1),e.length>4&&(n=3);for(var i=60/n,a=i/100,s=0,o=i/2-30,r=30-i/2,h=o,c=e.length-1;c>=0;--c){var d=e[c];d.x=h,d.y=r,d.scale=a,d.parent=t,++s===n?(s=0,r-=i,h=o):h+=i}},addzi:function(t,e){var n=this;t.on("StrokeEnd",function(){n.pushzi(t,e)}),setTimeout(function(){t.getComponent("x_Han").write()},300)},pushzi:function(t,e){var n=this,i=t.getComponent("SVGWriterComponent");this.cur+=i._commandCount,this.labcur.string=this.cur,this.pushlist(t),setTimeout(function(){n.onAdded(e)},300)},clearlist:function(){for(var t=this.list.children,e=this.dislst.children.length,n=t.length-1;n>=0;--n){var i=t[n],a=Math.floor(e/2);i.x=1&e?25:-25,i.y=50*-a-25,i.scale=.5,i.parent=this.dislst,e++}},pushlist:function(t){var e=this.list.children;if(e.length>=6){if(6===e.length)for(var n=-250,i=0;i<6;++i)e[i].x=n,n+=50;var a=-250;a+=50*e.length,t.x=0,t.x=a,t.parent=this.list}else{var s=-250;s+=100*e.length,t.x=0,t.x=s,t.parent=this.list}}}),cc._RF.pop()},{}],game:[function(t,e){"use strict";cc._RF.push(e,"6d833NdxqtKz7PsvadRrPLx","game");var n=t("./ui/bottom"),i=t("../resources/datas");cc.Class({extends:cc.Component,properties:{bottom:n,draw:cc.Node,panel:cc.Node,prfBu:cc.Prefab,prfShi:cc.Prefab,nextbtn:cc.Node,nextstagenode:cc.Node},onLoad:function(){},start:function(){this.curidx=0,this.startstage()},startstage:function(){this.running=!1,this.nextstagenode.active=!1;var t=i[this.curidx];this.page=0,this.createShiBu(t.texts[this.page]),this.bottom.reset(t.sum,t.total),this.nextbtn.active=this.enableNextPage()},nextstage:function(){this.curidx>=i.length-1||(this.curidx++,this.startstage())},nextpage:function(){this.page++;var t=i[this.curidx];this.createShiBu(t.texts[this.page]),this.nextbtn.active=this.enableNextPage()},createShiBu:function(t){var e=this;this.panel.removeAllChildren();for(var n=0,i=t.length,a=0;a<i;++a){var s=t[a];n<s.length&&(n=s.length)}var o=new cc.Node("ShiBu");this.panel.addChild(o);var r=cc.instantiate(this.prfShi);r.getComponent("x_Shi").text=t,o.addChild(r),r.on("click",function(t,n,i){return e.onClickZi(t,n,i)}),this.curShiBu=r},onClickZi:function(t,e,n){var i=this;if(!this.running){var a=n.node;a.getComponent("x_Han").isvalid()?a.destroy():(this.running=!0,a.x=0,a.parent=this.draw,this.bottom.addzi(a,function(){i.running=!1,i.bottom.pro>=i.bottom.total&&(i.nextstagenode.active=!0)}))}},onClickReset:function(){this.running||this.startstage()},onClickNextPage:function(){this.running||(i[this.curidx],this.enableNextPage()&&this.nextpage())},enableNextPage:function(){var t=i[this.curidx];return this.page<t.texts.length-1},onClickNextStage:function(){this.nextstage()}}),cc._RF.pop()},{"../resources/datas":void 0,"./ui/bottom":"bottom"}],hang:[function(t,e){"use strict";cc._RF.push(e,"fc10atG7m5HVqLH6rXWcaI3","hang");var n=t("./hanzi");cc.Class({extends:cc.Component,properties:{text:"\u767d\u65e5\u4f9d\u5c71\u5c3d"},start:function(){var t=this;cc.resources.load("Hanzi",function(e,n){e||t.createtext(n)})},createtext:function(t){var e,i=this;this.zis=[];for(var a=this.text.length,s=(null==t?void 0:null==(e=t.data)?void 0:e.width)||100,o=-s*a/2+s/2,r=function(e){var a=i.text[e],r=cc.instantiate(t);r.y=0,r.x=o,o+=s,r.getComponent(n).text=a,i.node.addChild(r),r.on("click",function(t){return i.onClick(e,t)}),i.zis[e]=r},h=0;h<a;++h)r(h)},onClick:function(t,e){this.node.emit("click",t,e)}}),cc._RF.pop()},{"./hanzi":"hanzi"}],hanzi:[function(t,e){"use strict";cc._RF.push(e,"1778fb12mxLR7n+c1dR/7xB","hanzi");var n=t("./ssr/svg/namespace/SVGNamespace");cc.Class({extends:cc.Component,name:"x_Han",editor:!1,properties:{text:"\u6211",loop:!1},start:function(){var t=this.node.getComponent(n.SVG.WriterComponent);if(t.resetHanziRender(),!this.isvalid()){var e=this;t.load(this.text,function(n){n||(t.drawHanzi(),e.loop&&e.write())})}},isvalid:function(){return!this.text||" "===this.text||","===this.text},write:function(){this.curun=1,this.node.getComponent(n.SVG.WriterComponent).animateStroke(this.curun,.01)},onCbOneStrokeEnd:function(){var t=this,e=this.node.getComponent(n.SVG.WriterComponent);if(this.curun++,this.curun>e._commandCount)return this.node.emit("StrokeEnd"),void(this.loop&&setTimeout(function(){e.resetHanziRender(),e.drawHanzi(),t.write()},1e3));e.animateStroke(this.curun,.01)},cbStrokeEnd:function(){}}),cc._RF.pop()},{"./ssr/svg/namespace/SVGNamespace":"SVGNamespace"}],result:[function(t,e){"use strict";cc._RF.push(e,"f4d32RuOh5N3p+Gnzi8SEUt","result"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],shi:[function(t,e){"use strict";cc._RF.push(e,"817f7T9RwdM06bJiYj3/Hm7","shi");var n=t("./hang");cc.Class({extends:cc.Component,name:"x_Shi",properties:{text:[cc.String]},start:function(){var t=this;cc.resources.load("Hang",function(e,n){e||t.createhangs(n)})},createhangs:function(t){var e=this;this.hangs=[];for(var i=this.text.length,a=100*i/2-50,s=function(i){var s=e.text[i],o=cc.instantiate(t);o.x=0,o.y=a,a-=100,o.getComponent(n).text=s,e.node.addChild(o),o.on("click",function(t,n){return e.onClick(i,t,n)}),e.hangs[i]=o.getComponent(n)},o=0;o<i;++o)s(o)},onClick:function(t,e,n){this.node.emit("click",t,e,n)}}),cc._RF.pop()},{"./hang":"hang"}],switch:[function(t,e){"use strict";cc._RF.push(e,"727652VC49Ls5BK7GtDeKGU","switch");var n=[cc.Color.WHITE,cc.Color.GREEN];cc.Class({extends:cc.Component,name:"x-switch",properties:{_bo:!1,bo:{get:function(){return this._bo},set:function(t){this._bo!==t&&(this._bo=t,this.onbo())}}},onLoad:function(){this.onbo()},onbo:function(){var t=this.node.children[0],e=this._bo?1:0;t.color=n[e]}}),cc._RF.pop()},{}]},{},["HelloWorld","game","hang","hanzi","shi","SVGWriterComponent","SVGConst","SVGDataArea","SVGDataCommand","SVGDataRoot","SVGDataStroke","SVGNamespace","SVGParser","SVGPolylineUtil","SVGUtilPath","SVGUtilRender","bottom","result","switch"]);